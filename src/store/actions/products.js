
import * as actionTypes from './actionTypes';
import { request } from '../../utils/request';
export const initProducts = ( products ) => {
    return {
        type: actionTypes.GET_PRODUCTS,
        products
    };
};


export const getProducts = () => dispatch => {
    return request({
        url: `/admin/products.json`,
        method: 'GET',
    }).then ( res => {

        console.log( res.data )

        dispatch(initProducts(res.data.products))

    } )
      .catch ( e => {

          let pr = {"products":[{"id":1859628433497,"title":"$299 weekly call plan","body_html":"\u003cp\u003edaily call\u003c\/p\u003e","vendor":"carenote","product_type":"","created_at":"2018-11-19T12:24:43-08:00","handle":"299-00-daily-plan","updated_at":"2019-01-24T00:30:38-08:00","published_at":"2018-11-19T12:24:43-08:00","template_suffix":null,"tags":"Monthly Plans","published_scope":"web","variants":[{"id":18218922246233,"product_id":1859628433497,"title":"Default Title","price":"299.00","sku":"","position":1,"inventory_policy":"deny","compare_at_price":null,"fulfillment_service":"manual","inventory_management":null,"option1":"Default Title","option2":null,"option3":null,"created_at":"2018-11-19T12:24:43-08:00","updated_at":"2019-01-25T16:43:35-08:00","taxable":true,"barcode":"","grams":0,"image_id":null,"weight":0.0,"weight_unit":"lb","inventory_item_id":18474424008793,"inventory_quantity":-1,"old_inventory_quantity":-1,"requires_shipping":false}],"options":[{"id":2549599076441,"product_id":1859628433497,"name":"Title","position":1,"values":["Default Title"]}],"images":[{"id":5441862860889,"product_id":1859628433497,"position":1,"created_at":"2018-11-19T15:02:04-08:00","updated_at":"2018-11-19T15:02:04-08:00","alt":null,"width":250,"height":117,"src":"https:\/\/cdn.shopify.com\/s\/files\/1\/0075\/9824\/3929\/products\/299.png?v=1542668524","variant_ids":[]},{"id":5441914503257,"product_id":1859628433497,"position":2,"created_at":"2018-11-19T15:06:37-08:00","updated_at":"2018-11-19T15:06:37-08:00","alt":null,"width":1920,"height":1080,"src":"https:\/\/cdn.shopify.com\/s\/files\/1\/0075\/9824\/3929\/products\/170513_3518896_Amazon_Echo.jpg?v=1542668797","variant_ids":[]}],"image":{"id":5441862860889,"product_id":1859628433497,"position":1,"created_at":"2018-11-19T15:02:04-08:00","updated_at":"2018-11-19T15:02:04-08:00","alt":null,"width":250,"height":117,"src":"https:\/\/cdn.shopify.com\/s\/files\/1\/0075\/9824\/3929\/products\/299.png?v=1542668524","variant_ids":[]}},{"id":1859633741913,"title":"$299 weekly call plan  Auto renew","body_html":"WARNING: This product is for Recharge Subscriptions use  only, do not publish or delete this product. Customers will not see this message.","vendor":"carenote","product_type":"","created_at":"2018-11-19T12:29:33-08:00","handle":"299-00-daily-plan-1","updated_at":"2019-01-24T00:30:38-08:00","published_at":null,"template_suffix":null,"tags":"Recharge Products, Subscription","published_scope":"web","variants":[{"id":18219014619225,"product_id":1859633741913,"title":"Default Title","price":"299.00","sku":null,"position":1,"inventory_policy":"deny","compare_at_price":null,"fulfillment_service":"manual","inventory_management":"shopify","option1":"Default Title","option2":null,"option3":null,"created_at":"2018-11-19T12:29:33-08:00","updated_at":"2018-11-19T12:29:33-08:00","taxable":true,"barcode":null,"grams":0,"image_id":null,"weight":0.0,"weight_unit":"lb","inventory_item_id":18474518282329,"inventory_quantity":0,"old_inventory_quantity":0,"requires_shipping":false}],"options":[{"id":2549607104601,"product_id":1859633741913,"name":"Title","position":1,"values":["Default Title"]}],"images":[],"image":null},{"id":1859628302425,"title":"$49 weekly call plan","body_html":"\u003cp\u003e1 call per week\u003c\/p\u003e","vendor":"carenote","product_type":"","created_at":"2018-11-19T12:24:42-08:00","handle":"49-00-weekly-plan","updated_at":"2019-01-24T00:30:38-08:00","published_at":"2018-11-19T12:24:42-08:00","template_suffix":null,"tags":"Monthly Plans","published_scope":"web","variants":[{"id":18218922082393,"product_id":1859628302425,"title":"Default Title","price":"49.00","sku":"","position":1,"inventory_policy":"deny","compare_at_price":null,"fulfillment_service":"manual","inventory_management":null,"option1":"Default Title","option2":null,"option3":null,"created_at":"2018-11-19T12:24:42-08:00","updated_at":"2019-01-25T16:52:20-08:00","taxable":true,"barcode":"","grams":0,"image_id":null,"weight":0.0,"weight_unit":"lb","inventory_item_id":18474423812185,"inventory_quantity":-2,"old_inventory_quantity":-2,"requires_shipping":false}],"options":[{"id":2549598945369,"product_id":1859628302425,"name":"Title","position":1,"values":["Default Title"]}],"images":[{"id":5441868464217,"product_id":1859628302425,"position":1,"created_at":"2018-11-19T15:02:36-08:00","updated_at":"2018-11-19T15:02:36-08:00","alt":null,"width":600,"height":488,"src":"https:\/\/cdn.shopify.com\/s\/files\/1\/0075\/9824\/3929\/products\/only-49-alt-hi.png?v=1542668556","variant_ids":[]},{"id":5441909653593,"product_id":1859628302425,"position":2,"created_at":"2018-11-19T15:06:17-08:00","updated_at":"2018-11-19T15:06:17-08:00","alt":null,"width":1300,"height":866,"src":"https:\/\/cdn.shopify.com\/s\/files\/1\/0075\/9824\/3929\/products\/old_man.jpg?v=1542668777","variant_ids":[]}],"image":{"id":5441868464217,"product_id":1859628302425,"position":1,"created_at":"2018-11-19T15:02:36-08:00","updated_at":"2018-11-19T15:02:36-08:00","alt":null,"width":600,"height":488,"src":"https:\/\/cdn.shopify.com\/s\/files\/1\/0075\/9824\/3929\/products\/only-49-alt-hi.png?v=1542668556","variant_ids":[]}},{"id":1859633709145,"title":"$49 weekly call plan  Auto renew","body_html":"WARNING: This product is for Recharge Subscriptions use  only, do not publish or delete this product. Customers will not see this message.","vendor":"carenote","product_type":"","created_at":"2018-11-19T12:29:32-08:00","handle":"49-00-weekly-plan-1","updated_at":"2019-01-24T00:30:38-08:00","published_at":null,"template_suffix":null,"tags":"Recharge Products, Subscription","published_scope":"web","variants":[{"id":18219014586457,"product_id":1859633709145,"title":"Default Title","price":"49.00","sku":null,"position":1,"inventory_policy":"deny","compare_at_price":null,"fulfillment_service":"manual","inventory_management":"shopify","option1":"Default Title","option2":null,"option3":null,"created_at":"2018-11-19T12:29:33-08:00","updated_at":"2018-11-19T12:29:33-08:00","taxable":true,"barcode":null,"grams":0,"image_id":null,"weight":0.0,"weight_unit":"lb","inventory_item_id":18474518249561,"inventory_quantity":0,"old_inventory_quantity":0,"requires_shipping":false}],"options":[{"id":2549607071833,"product_id":1859633709145,"name":"Title","position":1,"values":["Default Title"]}],"images":[],"image":null},{"id":1859628367961,"title":"$89 weekly call plan","body_html":"\u003cp\u003e2 calls per week\u003c\/p\u003e","vendor":"carenote","product_type":"","created_at":"2018-11-19T12:24:42-08:00","handle":"89-00-twice-weekly-plan","updated_at":"2019-01-24T00:30:38-08:00","published_at":"2018-11-19T12:24:42-08:00","template_suffix":null,"tags":"Monthly Plans","published_scope":"web","variants":[{"id":18218922147929,"product_id":1859628367961,"title":"Default Title","price":"89.00","sku":"","position":1,"inventory_policy":"deny","compare_at_price":null,"fulfillment_service":"manual","inventory_management":null,"option1":"Default Title","option2":null,"option3":null,"created_at":"2018-11-19T12:24:42-08:00","updated_at":"2018-11-19T15:03:12-08:00","taxable":true,"barcode":"","grams":0,"image_id":null,"weight":0.0,"weight_unit":"lb","inventory_item_id":18474423910489,"inventory_quantity":0,"old_inventory_quantity":0,"requires_shipping":false}],"options":[{"id":2549599010905,"product_id":1859628367961,"name":"Title","position":1,"values":["Default Title"]}],"images":[{"id":5441874952281,"product_id":1859628367961,"position":1,"created_at":"2018-11-19T15:03:08-08:00","updated_at":"2018-11-19T15:03:08-08:00","alt":null,"width":600,"height":488,"src":"https:\/\/cdn.shopify.com\/s\/files\/1\/0075\/9824\/3929\/products\/only-89-hi.png?v=1542668588","variant_ids":[]},{"id":5441895628889,"product_id":1859628367961,"position":2,"created_at":"2018-11-19T15:05:09-08:00","updated_at":"2018-11-19T15:05:09-08:00","alt":null,"width":682,"height":1024,"src":"https:\/\/cdn.shopify.com\/s\/files\/1\/0075\/9824\/3929\/products\/woman_on_phone.jpg?v=1542668709","variant_ids":[]}],"image":{"id":5441874952281,"product_id":1859628367961,"position":1,"created_at":"2018-11-19T15:03:08-08:00","updated_at":"2018-11-19T15:03:08-08:00","alt":null,"width":600,"height":488,"src":"https:\/\/cdn.shopify.com\/s\/files\/1\/0075\/9824\/3929\/products\/only-89-hi.png?v=1542668588","variant_ids":[]}},{"id":1859633676377,"title":"$89 weekly call plan  Auto renew","body_html":"WARNING: This product is for Recharge Subscriptions use  only, do not publish or delete this product. Customers will not see this message.","vendor":"carenote","product_type":"","created_at":"2018-11-19T12:29:32-08:00","handle":"89-00-twice-weekly-plan-1","updated_at":"2019-01-25T16:46:05-08:00","published_at":null,"template_suffix":null,"tags":"Recharge Products, Subscription","published_scope":"web","variants":[{"id":18219014553689,"product_id":1859633676377,"title":"Default Title","price":"89.00","sku":null,"position":1,"inventory_policy":"deny","compare_at_price":null,"fulfillment_service":"manual","inventory_management":"shopify","option1":"Default Title","option2":null,"option3":null,"created_at":"2018-11-19T12:29:32-08:00","updated_at":"2019-01-25T16:46:05-08:00","taxable":true,"barcode":null,"grams":0,"image_id":null,"weight":0.0,"weight_unit":"lb","inventory_item_id":18474518216793,"inventory_quantity":-1,"old_inventory_quantity":-1,"requires_shipping":false}],"options":[{"id":2549607039065,"product_id":1859633676377,"name":"Title","position":1,"values":["Default Title"]}],"images":[],"image":null}]}

          dispatch(initProducts(pr.products))

          console.log( 'error in react',  e )

      } );
};
